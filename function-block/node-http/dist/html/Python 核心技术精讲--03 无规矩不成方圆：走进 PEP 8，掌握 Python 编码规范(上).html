<!doctype html>
<html lang="zh_CN">

    

    

    
    
    
    <head>
        
        <title>03 无规矩不成方圆：走进 PEP 8，掌握 Python 编码规范(上)</title>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="揭开被“简单易学”掩盖的Python真相">
        <meta name="keywords" content="慕课网">
        <meta name="author" content="">
        <meta name = "format-detection" content="telephone=no">
        <meta http-equiv="Cache-Control" content="no-transform " />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <link rel="shortcut icon" href="https://m.imooc.com/static/wap/static/favicon.ico" />
        
        
        
        <script type="text/javascript" src="https://m.imooc.com/static/wap/static/common/js/flexible.js"></script>
        
        <script type="text/javascript">
            var userInfo = "";
            
                var isApp = 0;
            
        </script>
         
<!-- 专栏首页列表模板 -->
<script type="text/template" id="index-list-tpl">
<ul class="list-con">
    {@each data.data as item}
        <li>
            <a href="/read/${item.id}" class="item clearfix">
                <div class="img l" style="background-image: url(${item.app_pic1})">
                    {@if item.is_new }
                        <div class="icon new">
                            上新
                        </div>
                    {@else if item.is_marking} 
                        <div class="icon">
                            经典
                        </div>
                    {@/if} 
                </div>
                <div class="text-con l">
                    <div class="title">
                        ${item.title}
                    </div>
                    <div class="desc">
                        ${item.chapter_num}节 · ${item.description}
                    </div>
                     <div class="user-info">
                        ${item.nickname}
                        {@if item.author_title }
                        <span class="dot">
                            ·
                        </span>
                        ${item.author_title}
                        {@/if}
                    </div>
                    <div class="info clearfix">
                    {@if !item.isBuy } 
                        <!-- 未购买才显示 -->
                        <div class="price-con l">
                        {@if item.open_discount == "1" }
                            <span class="now">￥${item.pay_price}</span>
                            <span class="ori">￥${item.price}</span>
                            <p class="sale">${item.discount_name}</p>
                        {@else}
                            <span class="now">￥${item.price}</span>
                        {@/if}
                        </div>
                    {@/if}
                        <div class="taste-con r">
                            <span>${item.numbers}人订阅</span>
                            {@if !item.isBuy }
                                <span class="gotaste">试读</span>
                            {@else}
                                <span class="gotaste">学习</span>
                            {@/if}
                        </div>
                    </div>
                </div>
            </a>
        </li>
    {@/each}
</ul>
</script>



<!-- 专栏目录 买后目录页、 -->
<script type="text/template" id="detail-catalog-tpl">
<ul class="catalog-list">
{@each data.list as item}
    <li class="zhang">
        {@if data.structure_mode == "1" }
            <!--章节模式-->
            <div class="zhang-title">
                ${item.title}（${item.count}节）
            </div>
            <div class="zhang-sub-title">
                ${item.short_introduce}
            </div>
        {@/if}  
        <ul class="zhang-detail">
            {@each item.list as it,i}
                <li class="jie">
                    {@if data.isLogin }
                        <!-- 购买了  -->
                        {@if data.isBuy }
                        <a href="javascript:;" data-link="/read/${data.column_id}/article/${it.id}" class="js-go-read">
                        {@else}
                        <a href="javascript:;" data-link="/read/${data.column_id}/article/${it.id}" class="js-go-read" >
                        {@/if}
                    {@else}
                        <!-- 未登录  -->
                        {@if data.isApp }
                            <a href="javascript:;" onclick="window.nativeSupport.login();">
                        {@else}
                            <a href="//m.imooc.com/account/login?backurl=/read/${data.column_id}">
                        {@/if}
                    {@/if}
                        <div class="jie-con {@if data.last_chapter == it.id }recent{@/if}">
                            
                            <div class="text-con">
                                <div class="jie-title">
                                    ${it.title}
                                </div>
                                <div class="jie-status">
                                    {@if it.is_open == "0" }
                                        <span class="update-time" >${it.open_time_fmt}</span>
                                    {@/if}
                                    {@if it.view_num > 100 }
                                    <div class="learn-num">
                                        <i class="imwap-set-sns"></i>
                                        <span>${it.view_num}</span>
                                    </div>
                                    {@/if}
                                    {@if it.in_24hours == "1" }
                                        <span class="update-recent">最近更新</span>
                                    {@/if}
                                </div>
                            </div>
                        </div>
                        {@if it.is_learned }
                            <div class="jie-right haslearn is_learned js-learn" data-type="1">
                                已学
                            </div>
                        {@else}
                            <!-- 购买了  -->
                            {@if data.isBuy }
                                <div class="jie-right learn js-learn" data-type="1">
                                    学习
                                </div>
                            {@else}
                                {@if it.is_pay == "0" }
                                <!--免费小节 不占用试读次数  -->
                                    <div class="jie-right learn js-learn" data-type="1">
                                        免费
                                    </div>
                                {@else}
                                    <div class="jie-right learn js-learn" data-type="0">
                                        学习
                                    </div>
                                {@/if}
                            {@/if}
                            
                            
                        {@/if}
                    </a>
                </li>
            {@/each}
        </ul>
    </li>
{@/each}
</ul>
</script> 

<!-- 阅读页 阅读页   专栏目录  -->
<script type="text/template" id="catalog-tpl">
<div>
    <h2 class="article-title">${data.a_name}</h2>
    <ul class="catalog">
    {@each data.list as item}
        <li class="zhang">
            {@if data.structure_mode == "1" }
                <!--章节模式-->
                <div class="zhang-title">
                    ${item.title}
                    <!-- <div class="num">共${item.count}节</div> -->
                </div>
            {@/if}  
            <ul class="zhang-detail">
                {@each item.list as it,i}
                    <li class="jie">
                        <!--买了且开放的-->
                        <a href="/read/${data.column_id}/article/${it.id}">
                            <div class="jie-title clearfix full">
                                <p>
                                    {@if data.last_chapter == it.id }
                                        <span class="recent">最近阅读</span>
                                    {@/if}
                                    ${it.title}
                                </p>
                            </div>
                        </a>
                    </li>
                {@/each}
            </ul>
        </li>
    {@/each}
    </ul>
</div>
</script>





<script type="text/javascript">
	var isApp = "";
	var clientVersion = "0";
	var count_num = "0";
	var chapter_id = "2065";
	var chapter_title = "03 无规矩不成方圆：走进 PEP 8，掌握 Python 编码规范(上)";
	var aid = "79";
	var a_name = "Python 核心技术精讲";
	var a_price = "78.00";
	var a_pic = "https://img3.mukewang.com/5ee98cca00018e2a05400720.jpg";
	var userId = 0;

	var column_id = '79';
	var isLogin = 0;
	

</script>
<!-- 引入字体 -->
<script type="text/javascript" src="//cdn.webfont.youziku.com/wwwroot/js/wf/youziku.api.min.js"></script>
<script type="text/javascript">
$youziku.load(".top-con .title, .cl-preview-section h1,.cl-preview-section h2,.cl-preview-section h3,.cl-preview-section h4,.cl-preview-section h5,.cl-preview-section h6", "37af461390fa4d138f5c3d277f7286dc", "SourceHanSerifSC-Heavy"); // 思源宋体heavy
$youziku.load(".lead-motto, .cl-preview-section blockquote", "d9a0d855583142c3b2cc3bf1646a8473", "SourceHanSerifSC-Regular"); // 思源宋体regular
$youziku.load("#article_content, .cl-preview-section pre, .cl-preview-section code, #code-copy", "3d84aabcf9e44b6f8c6fa91c61fa926e", "HYQiHei-55S"); // 汉仪旗黑55s
$youziku.load(".cl-preview-section strong", "fd94fff3a17546a28913a79613bddcec", "HYQiHei-77S"); // 汉仪旗黑70s

$youziku.draw();
</script>

<style type="text/css">
  header{
    display: none!important;
  }
  
  #wrapper{
  	padding-top:0px !important;
  }
  
</style>



    <link rel="stylesheet" href="https://m.imooc.com/static/wap/static/common/css/common_d42b1ef.css" /><link rel="stylesheet" href="https://m.imooc.com/static/wap/static/css/read/7.2.8/article_2d28313.css" /></head>
    <body >
        
          
        

        
          
        

        
          







<header class="directory2">
	<div class="header clearfix">
		
			
				<div class="page-title clearfix">
					<a href="//m.imooc.com" class="imwap-icon-imooc"></a>
					<div class="page-title-name js-page-name">
						<span>专栏</span>
						<i class="imwap-arrow_d"></i>
					</div>
				</div>
			

			
			<div class="drawer-box js-drawer-more">
				<i class="imwap-more_vert"></i>
				<div class="drawer-content js-drawer-content">
					<p class="line-row"></p>
					<a class="drawer-item" href="//m.imooc.com"><i class="imwap-center"></i>回到首页</a>
					<a class="drawer-item" href="//www.imooc.com/m/web/user/usercenter.html"><i class="imwap-peaple"></i>个人中心</a>
					<a class="drawer-item" href="//m.imooc.com/feedback"><i class="imwap-comment"></i>反馈问题</a>
					
					<a class="drawer-item" href="//m.imooc.com/account/login"><i class="imwap-out"></i>注册登录</a>
					
				</div>
			</div>
			

			
				<a id="js-appload" href="Javascript:;" class="app-load"><span>下载APP</span></a>
			

		
	</div>
	
	<div class="page-tab-wrap">
		<div class="page-tab-list">
			<a href="//m.imooc.com" class="page-tab-item">首页</a>
			<a href="//m.imooc.com/course/list" class="page-tab-item">课程</a>
			<a href="//coding.m.imooc.com" class="page-tab-item">实战</a>
			<a href="//class.m.imooc.com" class="page-tab-item">金职位</a>
			<a href="//m.imooc.com/article" class="page-tab-item">手记</a>
			<a href="//m.imooc.com/read" class="page-tab-item active">专栏</a>
			<a href="//m.imooc.com/wenda" class="page-tab-item">猿问</a>
			<a href="//m.imooc.com/wiki" class="page-tab-item">慕课教程</a>
			
		</div>
	</div>
	
</header>


        

        <div id="wrapper">
            <div id="middle" class="container ">

                

                
	
		
	
	<div class="top-con">
		<p class="update-time"><span>2020-08-17&nbsp;&nbsp;&nbsp;更新</span></p>
		<div class="title">
			03 无规矩不成方圆：走进 PEP 8，掌握 Python 编码规范(上)
		</div>
	</div>
	
		<div class="article-img" style="background-image: url('https://img.mukewang.com/5ece08c00001959a06400426.jpg')"></div>
	
	
		<a href="/read/79">
			<div class="course-entry">
				<img src="https://img1.mukewang.com/5edcf963000148bc05200501-40-40.jpg" alt="郭元锴">
				<h3>Python 核心技术精讲</h3>
				<p>郭元锴 · BAT高级研发工程师</p>
				<i class="imwap-arrow_r"></i>
			</div>
		</a>
	
	
		<div class="lead-motto">
			<div class="content">学习这件事不在乎有没有人教你，最重要的是在于你自己有没有觉悟和恒心。 <p class="author">—— 法布尔</p></div>
		</div>
	
	
		<div class="content" id="article_content">
			
			<div class="cl-preview-section"><h2 id="引言">引言</h2>
</div><div class="cl-preview-section"><p>什么是编码规范？编码规范是指在编写代码时，应遵循的一些通用的编写方式或编写风格。在语言层面上，编码规范不同于语法，并非是强制性的，但往往在工程能力较为成熟的公司或组织中，统一的编码规范通常是被强制执行的。本小节则会从编码规范的作用、PEP 与 PEP 8 及 Python 中核心的编码规范、代码检查与格式化工具等几个方面帮助大家掌握 Python 编码规范。</p>
</div><div class="cl-preview-section"><h2 id="为什么我们需要编码规范？">为什么我们需要编码规范？</h2>
</div><div class="cl-preview-section"><p>我们都知道在编写代码的过程中，遵循正确的语法便可以写出能够正常运行的程序，那么为什么还需要编码规范的约束呢？这是因为编码规范往往和代码质量、可读���、可维护性，甚至软件的生命周期都有直接的关系，遵循编码规范，会给我们在代码的开发以及后期维护带来很多好处，包括但不限于以下几点：</p>
</div><div class="cl-preview-section"><ul>
<li>有助于增强代码的一致性和可读性。代码被阅读的次数远大于它被编写的次数，良好的遵循编码规范可以保证代码在一个项目中，甚至多个项目之间保持一致性和可读性；</li>
<li>有助于提高代码的可维护性和代码质量。易于理解的变量名称，清晰的代码布局，风格一致的注释等，都有助于降低开发和维护的难度，减少由于不遵循规范而产生的晦涩难懂的代码，并降低 bug 出现的可能性；</li>
<li>有助于提高软件团队的开发和协作效率。团队成员之间可以快速的阅读和理解对方所编写的代码，将更多的时间和精力投入更加核心的业务中去；</li>
<li>有助于提高项目和产品的交付质量。团队的效率和代码的质量，往往影响着项目的最终结果，也是产品质量与市场竞争力的决定性因素之一。</li>
</ul>
</div><div class="cl-preview-section"><h2 id="pep---python-enhancement-proposals">PEP - Python Enhancement Proposals</h2>
</div><div class="cl-preview-section"><h3 id="什么是-pep？">什么是 PEP？</h3>
</div><div class="cl-preview-section"><p>PEP 的英文全称是 Python Enhancement Proposals，即  Python 增强提案，它主要用于提出 Python 新特性、收集社区对于某些问题的讨论、记录 Python 核心的设计决策等。 在形式上来说，PEP 是一种技术文档；在内容上来说，一般会包括提供给 Python 社区的信息、新特性的功能及原理描述等内容。</p>
</div><div class="cl-preview-section"><h3 id="pep的分类">PEP的分类</h3>
</div><div class="cl-preview-section"><p>PEP按照其作用可分为以下三种：</p>
</div><div class="cl-preview-section"><ul>
<li>
<p>标准类 PEP（Standards Track PEP）：主要用于描述 Python 的新特性或实现等。这类 PEP 的数量在所有 PEP 中占比最多，比如列表推导 PEP 202 以及引起争议的表达式内赋值 PEP 572 等。</p>
</li>
<li>
<p>信息类 PEP（Informational PEP）：主要用于提供一般性的指导原则、信息等。比如著名的 Python 之禅 PEP 20 等。</p>
</li>
<li>
<p>流程类 PEP（Process PEP）：主要围绕 Python 相关流程，适用于 Python 语言本身以外的领域。比如下文即将介绍的 Python 编码规范 PEP 8 等。</p>
</li>
</ul>
</div><div class="cl-preview-section"><h2 id="pep-8---style-guide-for-python-code">PEP 8 - Style Guide for Python Code</h2>
</div><div class="cl-preview-section"><p>PEP 8 的英文全称为 Style Guide for Python Code ，即 Python 编码风格指南（或称规范），这份指南涵盖三个大的方面，代码布局、注释文档以及命名规范。其主要包括以下内容：</p>
</div><div class="cl-preview-section"><ul>
<li>代码的整体布局，比如缩进、行最大长度、换行与空行、导入语句的位置及组织结构、编码声明、dunder 方法位置等；</li>
<li>代码中的引号以及空格、行尾部逗号；</li>
<li>复合语句的基本结构；</li>
<li>注释编写的基本规范，主要包括块注释、行内注释和文档字符串；</li>
<li>针对变量、方法、函数、类等元素的命名规范。</li>
</ul>
</div><div class="cl-preview-section"><p>接下来，我们便根据 PEP 8 ，同时结合一些示例代码分别对上面提到的内容来进行了解。</p>
</div><div class="cl-preview-section"><h3 id="代码的整体布局">代码的整体布局</h3>
</div><div class="cl-preview-section"><p>代码的整体布局主要囊括了代码在整体结构上应该注意的事项，比如用来区分代码块层次的缩进应使用 4 个空格、代码中函数与类之间应使用两个空行进行分隔等。良好的遵守这些布局规范，有助于代码在整体结构上更加清晰易读，从结构上也有助于对代码逻辑的组织。</p>
</div><div class="cl-preview-section"><h4 id="缩进与空格--制表符">缩进与空格 / 制表符</h4>
</div><div class="cl-preview-section"><p>Python 在语法上使用缩进来确定代码块的开始和结束，对于每一级缩进，应为 4 个空格，并且不要混用空格与制表符（在 Python 3 中从语法层面不允许混用空格和制表符，如果混用后会抛出异常：<code>TabError: inconsistent use of tabs and spaces in indentation</code> ）。需要注意的是，缩进本身是一种语法上的限制，是强制性的，而缩进采用空格还是制表符，采用空格时空格的数量应为多少，这些在语法上是不限制的。另外，我们可以在 PyCharm 中进行 tab 以及显示空格的设置，另外在下图中，我们也可以勾选 Show method separators ，这会有助于我们更容易的对代码结构的区分和阅读。</p>
</div><div class="cl-preview-section"><p><img src="https://img.mukewang.com/5ece08fe0001dce910120346.png" alt="图片描述"></p>
</div><div class="cl-preview-section"><p><img src="https://img.mukewang.com/5ece090800016ec810210436.png" alt="图片描述"><br>
当需要换行时，换行后的内容应垂直对齐被包裹的元素。通常，换行时的缩进有两种建议的方式，一种是使用括号内的隐式换行形式，比如下面这样：</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">def</span> <span class="token function">function_name</span><span class="token punctuation">(</span>var_one<span class="token punctuation">,</span> var_two<span class="token punctuation">,</span> 
                  var_three<span class="token punctuation">,</span> var_four<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre>
</div><div class="cl-preview-section"><p>另外一种是像下面这样使用悬挂缩进。需要注意的是，使用悬挂缩进时第一行不应放置元素，并且当元素与下面内容的行相同缩进层次时，可以增加缩进来区分。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token comment"># 第一行不应放置元素</span>
function_name<span class="token punctuation">(</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token comment"># 元素与下面的行相同缩进时，应增加缩进进行区分</span>
<span class="token keyword">def</span> <span class="token function">function_name</span><span class="token punctuation">(</span>
        var_one<span class="token punctuation">,</span> var_two<span class="token punctuation">,</span>
        var_three<span class="token punctuation">,</span> var_four<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>var_one<span class="token punctuation">,</span> var_two<span class="token punctuation">,</span> var_three<span class="token punctuation">,</span> var_four<span class="token punctuation">)</span>  
</code></pre>
</div><div class="cl-preview-section"><p>当 if 等控制语句的条件部分需要换行时，可以使用括号将条件部分包裹起来，在括号内进行换行。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">if</span> <span class="token punctuation">(</span>condition_one
        <span class="token operator">and</span> condition_two<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre>
</div><div class="cl-preview-section"><p>当多行结构在结束时，其右括号可以另起一行与前一行元素的第一个字符对齐或与第一行元素第一个字符对齐。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">one_list <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span>
	<span class="token punctuation">]</span>
two_list <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span>
<span class="token punctuation">]</span>
</code></pre>
</div><div class="cl-preview-section"><h4 id="行最大长度">行最大长度</h4>
</div><div class="cl-preview-section"><p>代码中所有行的最大长度应限制在 79 个字符以内，文档字符串和注释的最大长度应限制在 72 个字符以内。限制最大长度的主要好处在于它使得代码更加紧凑可读，并且有利于代码审阅（ code review ），可以方便的并排打开两个版本的文件。更加详细的原因在 PEP 8 的原文中进行了描述：</p>
</div><div class="cl-preview-section"><blockquote>
<p>Limiting the required editor window width makes it possible to have several files open side-by-side, and works well when using code review tools that present the two versions in adjacent columns.</p>
<p>The default wrapping in most tools disrupts the visual structure of the code, making it more difficult to understand. The limits are chosen to avoid wrapping in editors with the window width set to 80, even if the tool places a marker glyph in the final column when wrapping lines. Some web based tools may not offer dynamic line wrapping at all.</p>
</blockquote>
</div><div class="cl-preview-section"><p>这一规范对于标准库来说是保守的，通常标准库的代码必须遵守 PEP 8 中关于行最大长度的限制。但在某些公司或者团队内部，这一项规范可能会对做一定的进行调整（我们会在后面讨论关于团队内部的一致性和 PEP 8 的结合），比如将限制的最大字符数适当的扩大一些，PEP 8 中推荐的调整为 99 字符，但文档和注释的长度应仍然保持在 72 字符以内。作为一个题外话，最大长度限制这一规范很有可能会在未来的 Python 4.0 中进行适当修改。</p>
</div><div class="cl-preview-section"><p>另外，也可以在 PyCharm 中进行设置来调整长度限制的参考值。其中 hard wrap 意为硬换行，其会在格式化时强制插入换行符(若勾选了 Wrap on typing 则会在输入时动态的换行)，与 hard wrap 对应的便是 soft wrap ，即只在 IDE 的显式效果上进行换行，并不会真正的插入换行符。</p>
</div><div class="cl-preview-section"><p><img src="https://img.mukewang.com/5ece08ef0001942910160309.png" alt="图片描述"></p>
</div><div class="cl-preview-section"><p>soft warp 在 PyCharm 中的设置有两种方式，分别为：针对单个文件  View &gt; Active Editor &gt; Use Soft Wraps； 针对整个项目 Settings &gt; Editor &gt; General &gt; Soft Wraps。</p>
</div><div class="cl-preview-section"><p><img src="https://img.mukewang.com/5ece091d0001295905790586.png" alt="图片描述"></p>
</div><div class="cl-preview-section"><p>当一个代码行的长度超过限制时应进行换行，换行应优先使用括号内隐式换行，其次才是使用反斜杠。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token comment"># 应优先使用括号内隐式换行</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition_one
        <span class="token operator">and</span> condition_two<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token comment"># 不提倡下面的方式</span>
<span class="token keyword">if</span> condition_one \
        <span class="token operator">and</span> condition_two<span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre>
</div><div class="cl-preview-section"><p>但在一下场景下，不能使用隐式换行，比如下面 <code>with</code> 中有多个语句时，可使用反斜杠。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>path_one<span class="token punctuation">)</span> <span class="token keyword">as</span> file_one<span class="token punctuation">,</span> \
        <span class="token builtin">open</span><span class="token punctuation">(</span>path_one<span class="token punctuation">)</span> <span class="token keyword">as</span> file_two<span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre>
</div><div class="cl-preview-section"><h4 id="运算符与换行、代码之间的空行">运算符与换行、代码之间的空行</h4>
</div><div class="cl-preview-section"><p>我们可以在二元运算符之前或之后进行换行，推荐的方式是在二元运算符之前换行，像下面这样：</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">result <span class="token operator">=</span> <span class="token punctuation">(</span>var_one
          <span class="token operator">-</span> var_two
          <span class="token operator">+</span> <span class="token punctuation">(</span>var_three <span class="token operator">*</span> var_four<span class="token punctuation">)</span>
          <span class="token operator">-</span> var_five<span class="token punctuation">)</span>
</code></pre>
</div><div class="cl-preview-section"><p>函数与类之间应用两个空行隔开，类中的方法之间应用一个空行隔开，函数或方法中的不同功能的代码块可使用空行隔开。</p>
</div><div class="cl-preview-section"><h4 id="导入的组织">导入的组织</h4>
</div><div class="cl-preview-section"><p>导入的位置应在该文件头部，位于模块注释和文档字符串之后，全局变量和常量之前。针对不同包或模块的导入，在代码结构上应该位于不同的行。针对同一个包或模块中进行的多个导入，可以位于同一行。如果你的代码中有多个导入，那么组织导入的整体顺序应首先为标准库导入，接着是相关第三方库导入，最后是本地代码导入。这三个部分之间可以用一个空行隔开。我们下面的示例摘自 Tornado 中 <code>tornado.concurrent</code> 的源码，并进行了一定省略，可以清楚的看到关于代码中导入的位置与组织形式。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token comment">#</span>
<span class="token comment"># Copyright 2012 Facebook</span>
<span class="token comment">#</span>
<span class="token comment"># Licensed under the Apache License, Version 2.0 (the "License"); you may</span>
<span class="token comment"># not use this file except in compliance with the License. You may obtain</span>
<span class="token comment"># a copy of the License at</span>
<span class="token comment">#</span>
<span class="token comment">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="token comment"># ...</span>
<span class="token triple-quoted-string string">"""Utilities for working with ``Future`` objects.

Tornado previously provided its own ``Future`` class, but now uses
`asyncio.Future`. This module contains utility functions for working
with `asyncio.Future` in a way that is backwards-compatible with
Tornado's old ``Future`` implementation.
...
"""</span>

<span class="token keyword">import</span> asyncio
<span class="token keyword">from</span> concurrent <span class="token keyword">import</span> futures
<span class="token keyword">import</span> functools
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> types

<span class="token keyword">from</span> tornado<span class="token punctuation">.</span>log <span class="token keyword">import</span> app_log

<span class="token keyword">import</span> typing
<span class="token keyword">from</span> typing <span class="token keyword">import</span> Any<span class="token punctuation">,</span> Callable<span class="token punctuation">,</span> Optional<span class="token punctuation">,</span> Tuple<span class="token punctuation">,</span> Union

_T <span class="token operator">=</span> typing<span class="token punctuation">.</span>TypeVar<span class="token punctuation">(</span><span class="token string">"_T"</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ReturnValueIgnoredError</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># No longer used; was previously used by @return_future</span>
    <span class="token keyword">pass</span>
<span class="token comment"># ...</span>
</code></pre>
</div><div class="cl-preview-section"><p>对于导入的形式，选择 <code>import &lt;module&gt;.&lt;name&gt;</code>、<code>from &lt;module&gt; import &lt;name&gt;</code> 、<code>from .&lt;module&gt; import &lt;name&gt;</code>  均可（前两种形式称为绝对导入，最后一种称为相对导入或显式相对导入）。推荐优先使用绝对路径进行导入（即绝对导入，absolute imports ），绝对导入的方式更具可读性，并且在导入系统配置不正确时可以表现得更好，比如给出更加清晰可读的错误信息。在处理布局较为复杂的导入时，绝对路径的导入写法可能会造成导入语句过长，这时可考虑使用显式相对导入（ explicit relative imports ），应避免使用隐式相对导入（ implicit relative imports ）。大家是否还记得上一小节中“Python 2.X 到 3.X 的主要修改”，其中提到了 Python 3.X 中已经不再支持隐式相对导入，这一点会在后面导入系统相关的小节中详细讲解。另外，我们应该尽量避免使用 <code>from &lt;module&gt; import *</code> 的通配符导入写法，通配符导入的写法会使当前的命名空间变得混乱，可能会造成不必要的混淆。 除此之外，在上一小节中我们也提到了 PyCharm 组织导入的快捷键 <code>Ctrl + Shift + O</code> ，它可以方便的帮我们调整导入的顺序，并去除一些无用导入。</p>
</div><div class="cl-preview-section"><h4 id="代码的编码声明">代码的编码声明</h4>
</div><div class="cl-preview-section"><p>在 Python 中 代码的编码声明指的是类似 <code># -*- coding: &lt;encoding name&gt; -*-</code> 形式的声明（更多的声明形式，可以参考 <a href="https://www.python.org/dev/peps/pep-0263/">PEP 263</a>：Defining Python Source Code Encodings ）。Python 解释器会根据该声明来读取源代码，比如我们在 Python 2.X 中常用的 <code># -*- coding: utf-8 -*-</code> 。另外，对于 Python 2.X 中使用  ASCII 编码、在 Python 3.X 中使用 UTF-8 编码的代码来说，通常不需要编写编码声明（但为了兼容性考虑，目前在多数情况下 Python 3.X 中也会使用 UTF-8 编码声明）。</p>
</div><div class="cl-preview-section"><h4 id="dunder-方法的位置">dunder 方法的位置</h4>
</div><div class="cl-preview-section"><p>首先，我们来说明 dunder 的含义，它是一个合成词，即双下划线 double-underscore 。dunder 方法便指的是 Python 中的特殊方法，也可称为魔术方法，这些方法以双下划线开始和结尾，在运算符重载、数据结构定义中起着重要的作用。对于我们所编写的常规方法来说，不应使用这种双下划线开始和结尾的形式。</p>
</div><div class="cl-preview-section"><p>首先对于模块级别的 dunders，类似  <code>__all__</code>，<code>__author__</code>， <code>__version__</code> 等方法 ，其位置应位于文档字符串之后，除 <code>from __future__</code> 之外的导入语句之前（<code>future</code> 语句（<code>from</code>  <code>__future__ import ...</code> ）的作用是在某个模块中指定使用未来某个 Python 新版本中的特性，主要用于版本之间的过渡，降低解决版本不兼容导致迁移问题的难度。比如在Python 2.X 代码中常用的 <code>from __future__ import unicode_literals</code>，它的作用便是将该模块中的所有字符串处理为 unicode 字符串。）。其次在类级别中，dunders 应该放置在一个类定义的开始位置。对于一些常见的特殊方法作用，我们会在面向对象的小节中了解。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token triple-quoted-string string">"""
module docstrings
"""</span>

<span class="token keyword">from</span> __future__ <span class="token keyword">import</span> unicode_literals

__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'testa'</span><span class="token punctuation">,</span> <span class="token string">'testb'</span><span class="token punctuation">]</span>
__version__ <span class="token operator">=</span> <span class="token string">'1.0'</span>
__author__ <span class="token operator">=</span> <span class="token string">'zhangsan'</span>

<span class="token keyword">import</span> json
</code></pre>
</div><div class="cl-preview-section"><h3 id="引号、空格与逗号">引号、空格与逗号</h3>
</div><div class="cl-preview-section"><h4 id="单引号还是双引号？">单引号还是双引号？</h4>
</div><div class="cl-preview-section"><p>在 Python 中，对单引号和双引号没有特殊的使用要求，它们的作用是相同的。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token comment"># 当一个字符串需要包含单或双引号时，应使用与最外层不同的引号，来避免进行转义（转义会降低代码的可读性）</span>
my_name <span class="token operator">=</span> <span class="token string">'my name is "python"'</span>

<span class="token comment"># 不提倡下面的方式</span>
my_name <span class="token operator">=</span> <span class="token string">'my name is \'python\''</span>
</code></pre>
</div><div class="cl-preview-section"><h4 id="表达式和语句中的空格">表达式和语句中的空格</h4>
</div><div class="cl-preview-section"><p><strong>在多数场景中不应使用无关的空格</strong></p>
</div><div class="cl-preview-section"><p>在右括号前、左括号后、逗号、分号、冒号之前都不应使用无关空格：</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">function_name<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 不提倡下面的方式</span>
function_name<span class="token punctuation">(</span> <span class="token string">'test'</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
</code></pre>
</div><div class="cl-preview-section"><p>在切片操作中，冒号两边的空格数量应相同；在扩展切片（Extended Slices ，是指在切片中使用可选的第三个参数 <code>step</code>，可称之为步长，默认为 1 ）中，两个冒号应使用相同的空格数量；当切片中的某个参数被省略时，对应位置不应使用空格。在下面的例子中，大家可能会发现某些 PEP 8 提倡的用法，在 PyCharm 中会被提示 “whitespace before ‘:’ ”，这是由于 PyCharm 默认检查工具 <code>pycodestyle.py</code> （ <code>pep8.py</code> ）的问题导致的，详情可以参考该 issue <a href="https://github.com/PyCQA/pycodestyle/issues/373">False positive "E203 whitespace before ‘:’ " on list slice</a> 。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">my_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> my_list<span class="token punctuation">[</span>var_one <span class="token operator">+</span> var_two <span class="token punctuation">:</span> var_three <span class="token operator">+</span> var_four<span class="token punctuation">]</span>
my_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> my_list<span class="token punctuation">[</span><span class="token punctuation">:</span> func_one<span class="token punctuation">(</span>var_one<span class="token punctuation">)</span> <span class="token punctuation">:</span> func_two<span class="token punctuation">(</span>var_two<span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># 不提倡下面的方式</span>
my_list<span class="token punctuation">[</span><span class="token number">1</span> <span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> my_list<span class="token punctuation">[</span>var_one <span class="token operator">+</span> var_two<span class="token punctuation">:</span>var_three <span class="token operator">+</span> var_four<span class="token punctuation">]</span>
my_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span> <span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> my_list<span class="token punctuation">[</span> <span class="token punctuation">:</span> func_one<span class="token punctuation">(</span>var_one<span class="token punctuation">)</span> <span class="token punctuation">:</span> func_two<span class="token punctuation">(</span>var_two<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre>
</div><div class="cl-preview-section"><p>对于扩展切片的示例如下：</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token comment"># 下面的代码在交互环境中完成（可在 PyCharm 中左下角打开 Python Console 或者使用 IPython 等工具）</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> my_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token comment"># 扩展切片操作，步长值为2，其作用是按照步长值为间隔选取元素，其结果是选取出了具有偶数索引的元素</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> my_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
</code></pre>
</div><div class="cl-preview-section"><p>在函数名称与参数列表之间不应使用无关空格；在索引或切片中，括号和字典 / 列表等对象之间不应使用无关空格。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">function_name<span class="token punctuation">(</span>var_name<span class="token punctuation">)</span>
my_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
my_dict<span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span>

<span class="token comment"># 不提倡下面的方式</span>
function_name <span class="token punctuation">(</span>var_name<span class="token punctuation">)</span>
my_list <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
my_dict <span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span>
</code></pre>
</div><div class="cl-preview-section"><p>在赋值语句中，不应为了对齐赋值语句而使用无关空格。在表达式或语句的尾部不应使用无关空格，尾部的空格会在某些场景下造成问题，比如在使用反斜杠进行换行时，在反斜杠后添加空格，会引发 <code>SyntaxError: unexpected character after line continuation character</code> 的异常。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">var_one <span class="token operator">=</span> <span class="token number">1</span>
long_var_two <span class="token operator">=</span> <span class="token number">2</span>

<span class="token comment"># 不提倡下面的方式</span>
var_one      <span class="token operator">=</span> <span class="token number">1</span>
long_var_two <span class="token operator">=</span> <span class="token number">2</span>
</code></pre>
</div><div class="cl-preview-section"><p>在函数中，对于形参列表中的默认参数以及函数调用时的关键字参数，其 <code>=</code> 两侧不应使用无关空格。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">def</span> <span class="token function">function_one</span><span class="token punctuation">(</span>var_one<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> var_one


function_one<span class="token punctuation">(</span>var_one<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="cl-preview-section"><p><strong>在运算符两侧合理使用空格</strong></p>
</div><div class="cl-preview-section"><p>在赋值、增强型赋值、比较、布尔等二元运算符两侧应使用空格。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">var_one <span class="token operator">=</span> <span class="token number">1</span>
var_two <span class="token operator">=</span> var_one <span class="token operator">+</span> <span class="token number">1</span>
var_one <span class="token operator">+=</span> <span class="token number">1</span>
</code></pre>
</div><div class="cl-preview-section"><p>在同时使用不同优先级的运算符时，可在最低优先级的运算符两侧使用空格。对于一些比较复杂的场景下，需要我们来自己定夺空格的使用。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">var_two <span class="token operator">=</span> var_one<span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span>
var_five <span class="token operator">=</span> var_one<span class="token operator">*</span>var_two <span class="token operator">+</span> var_three<span class="token operator">*</span>var_four

<span class="token comment"># 注意下面的情况，PEP 8 把这种情况交由我们自己定夺，但仍给出了类似下面的示例供我们参考</span>
var_five <span class="token operator">=</span> <span class="token punctuation">(</span>var_one<span class="token operator">+</span>var_two<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>var_three<span class="token operator">+</span>var_four<span class="token punctuation">)</span>

<span class="token comment"># 不提倡下面的方式</span>
var_five <span class="token operator">=</span> <span class="token punctuation">(</span>var_one <span class="token operator">+</span> var_two<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>var_three <span class="token operator">+</span> var_four<span class="token punctuation">)</span>
</code></pre>
</div><div class="cl-preview-section"><p><strong>在函数注解中合理使用空格</strong></p>
</div><div class="cl-preview-section"><p>在函数注解中，冒号前不应使用无关空格，<code>-&gt;</code> 两侧应使用空格。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">def</span> <span class="token function">function_one</span><span class="token punctuation">(</span>var_one<span class="token punctuation">:</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> var_one<span class="token punctuation">:</span>
        ret <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        ret <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">return</span> ret
</code></pre>
</div><div class="cl-preview-section"><p>当函数注解和默认参数同时存在于同一参数时，在 <code>=</code> 两侧应使用空格。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">def</span> <span class="token function">function_one</span><span class="token punctuation">(</span>var_one<span class="token punctuation">:</span> <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span> var_two<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre>
</div><div class="cl-preview-section"><p>函数注解（ Function annotations ）是 Python 3 提供的一种可选的语法，可以对函数的参数和返回值进行注解。在该特性在 3.0 中被加入后，官方并未给出其明确的语义，随着社区中相关经验的积累以及官方相关新特性的释放，函数注解目前主要用于类型提示，常结合 <code>typing</code> 模块使用，更多细节我们会在后面的小节中讲解。</p>
</div><div class="cl-preview-section"><h4 id="行尾部的逗号">行尾部的逗号</h4>
</div><div class="cl-preview-section"><p>当你想要获得包含一个元素的元组时，应在表达式尾部添加逗号，并最好将其包裹在圆括号内。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python">var_one <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span>

<span class="token comment"># 最好不使用下面的方式</span>
var_one <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
</code></pre>
</div><div class="cl-preview-section"><p>对于某些包含参数并需要不断扩展的序列，在添加每个参数时，在其尾部也可添加逗号，这样可以规避一些难以发现的问题（请不要小看下方代码所示的问题，当它隐藏在某一段代码中时，你就会感到十分头疼）。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token comment"># 当在新行中添加参数时，在尾部添加逗号有利于后续扩展，比如可避免漏写上一行结尾处逗号的问题</span>
BACKENDS <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">'BackendOne'</span><span class="token punctuation">,</span>
    <span class="token string">'BackendTwo'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token comment"># 在扩展时若漏写第二行结尾处的逗号，IDE 中也不会有任何提醒，但会导致无法正常使用该数据</span>
BACKENDS <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">'BackendOne'</span><span class="token punctuation">,</span>
    <span class="token string">'BackendTwo'</span>  
    <span class="token string">'BackThree'</span>
	<span class="token punctuation">)</span>
</code></pre>
</div><div class="cl-preview-section"><h4 id="复合语句">复合语句</h4>
</div><div class="cl-preview-section"><p>复合语句是指包含其他语句的语句，比如函数和类的定义、<code>if</code>、<code>while</code>、<code>for</code>、<code>try</code>、<code>with</code> 等语句，不应将整个复合语句或复合语句中的一部分放置在一行（虽然有时我们仍可在一些场合会看到这种情况）。</p>
</div><div class="cl-preview-section"><pre class="  language-python"><code class="prism  language-python"><span class="token keyword">if</span> var_one <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token comment"># 不提倡下面的方式</span>
<span class="token keyword">if</span> var_one <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">pass</span>
</code></pre>
</div><div class="cl-preview-section"><p>到这里，我们对 Python 编码规范中关于代码的主要结构部分的讲解已经基本完成了，在下半部分中，我们会重点对 Python 中的注释和命名规范进行了解。</p>
</div>
			
		</div>
	
	
	<div class="finish-learn">
		<p class="copyright">©版权归慕课网所有，未经许可不得转载</p>
		
		
		
		<div class="ad_pic">
			<img src="https://img1.mukewang.com/5ece08c500011d7f06700192.jpg">
		</div>
		
		
		
		
	</div>
	<div class="comment-con">
		<h4 class="title">
			精选留言
			
				<a href="javascript: void(0);" class="add-comment js-comment-click"><i class="imwap-xieliuyan"></i><span>写留言</span></a>
			
		</h4>
		
			<p class="bottom-text empty">暂无精选留言</p>
		
	</div>
	
	

	
		
	
	
	
		<div class="bottom-con">
			
			
				<div class="inner">
					
						<div class="price-con js-price-con">
							<span class="now">￥78.00</span>
						</div>
							
					
					
					<a class="gobuy js-gobuy" href="//m.imooc.com/account/login?backurl=//m.imooc.com/confirmorder?type=30&typeid=79">
					
						立即购买
					</a>  
				</div>
			
		</div>
	
	<div class="layer-catalog js-layer-catalog hide">
		<div class="layer-title clearfix">
			<div class="l">
				课程目录
			</div>
			
		</div>
		<div class="layer-wrap">
			<div class="js-catalog-container">
			</div>
		</div>
	</div>
	<div class="layer-comment">
		<div class="inner">
			<h5>
				<span class="btn l js-cancel-comment">取消</span>
				评论
				<span class="btn r js-send-comment">发送</span>
			</h5>
			<textarea id="comment-txt" maxlength="20000" placeholder="欢迎在这里发表留言，作者筛选后可公开显示"></textarea>
		</div>
	</div>


            </div>
        </div>
        
            
         
        
        
        
        




<script>
	// 设置字号大小及选中
	(function() {
			var fs = window.localStorage.getItem('font-size') || 'normal';
			var $c = document.querySelector('#middle>.content');
			var $points = document.querySelectorAll('.setting-box .point');
			try{
				// 抢读完了时 该元素不渲染 会有报错
				$c.className = 'content ' + fs;
				for(var i = 0; i < $points.length; i++) {
					if($points[i].className.indexOf(fs) > -1) {
						$points[i].className = $points[i].className + ' current';
					}
				}
			} catch(e) {}
			
	})();
</script>

<script type="text/javascript">
	window.onload = function() {
			zhuge.track('LearnCourse', {
					'Category': '专栏',
					'Name': '03 无规矩不成方圆：走进 PEP 8，掌握 Python 编码规范(上)',
					'CID': '2065',
					'Teacher': '郭元锴'
			});
	}
</script>

        
            <script type="text/javascript">
                var shareData = { 
                    title:  "03 无规矩不成方圆：走进 PEP 8，掌握 Python 编码规范(上)",
                    desc: "揭开被“简单易学”掩盖的Python真相",
                    imgUrl: 'https:https://img3.mukewang.com/5ee98cca00018e2a05400720.jpg',
                    otherImgUrl: 'https://img3.mukewang.com/5ee98cca00018e2a05400720.jpg',
                    text: '我正在参加@慕课网的课程，很不错哦！快来一起学习吧！',
                    // url: 'https://www.imooc.com' + window.location.pathname + window.location.search
                    url: 'https://m.imooc.com/read/79',
                    link: 'https://m.imooc.com/read/79'
                }
            </script>
            
        
        <div style="display:none;">
            <!-- 百度统计 -->
            <script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?c92536284537e1806a07ef3e6873f2b3";
              var s = document.getElementsByTagName("script")[0];
              s.parentNode.insertBefore(hm, s);
            })();
            </script>

            <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
            </script>
        </div>
        
    <script type="text/javascript" src="https://m.imooc.com/static/wap/static/lib/zhugeio/init_f9752c3.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/common/js/jquery-2.1.0.min_ac9f840.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/common/js/common_84429c0.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/lib/juicer/juicer.min_8643248.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/lib/previewImage/previewImage.min_43b970d.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/common/js/msg_bed8d10.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/js/read/7.2.8/article_30e5762.js"></script><script type="text/javascript" src="https://m.imooc.com/static/wap/static/js/course/advertisementReport_6e58a98.js"></script></body>
</html>
